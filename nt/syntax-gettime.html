<!doctype html><html lang="en">
<head><meta charset="UTF-8">
<link rel="STYLESHEET" href="../main.css" type="text/css">
<title>GetTime | Windows CMD | SS64.com</title>
</head>
<body><h1>GetTime.cmd</h1>
<p>Returns the current time into the variable <span class="code">%_time%</span> </p>
<pre>  @echo off
  SETLOCAL
  For /f "tokens=1-3 delims=1234567890 " %%a in ("%time%") Do set "delims=%%a%%b%%c"
  For /f "tokens=1-4 delims=%delims%" %%G in ("%time%") Do (
    Set _hh=%%G
    Set _min=%%H
    Set _ss=%%I
    Set _ms=%%J
  )
  :: Strip any leading spaces
  Set _hh=%_hh: =%

  :: Ensure the hours have a leading zero
  if 1%_hh% LSS 20 Set _hh=0%_hh%

  Echo The time is:   %_hh%:%_min%:%_ss%
  ENDLOCAL&Set _time=%_hh%:%_min%</pre>
<p>Although the default time delimiter, in Windows XP and above is either<span class="code"> . </span>or<span class="code"> : </span> users can change the delimiter to just about any character they like. And you know theres always that one guy, the one who writes everything in green ink, who will do this!
<p>Based on the discussion thread <a href="https://ss64.org/viewtopic.php?id=734">here</a>,  this script always returns HH:MM no matter which time delimiter has been set in the control panel. Thanks to avery_larry and bluesxman for their improvements. To include Milliseconds just tack on the <span class="code">%_ms%</span> variable.</p>
<p class="quote"><i>&ldquo;What may be done at any time will be done at no time&rdquo; ~
Scottish Proverb</i></p>
<p><b>Related</b>
<p><a href="../vb/syntax-getdatetime.html">datetime.vbs</a> - Get Date, Time and daylight savings (VB Script)<br>
%TIME% - variable containing current time <br>
<a href="time.html">TIME</a> - Set the time (list of default time formats for different countries)<br>
<a href="syntax-getdate.html">GetDate.cmd</a> - Get todays date (any region, any OS)<br>
<a href="syntax-tdiff.html">tdiff.cmd</a> - Time difference in Hours/Minutes<br>

<a href="http://www.commandline.co.uk/cmdfuncs/dandt/index.html">Commandline.co.uk</a> - date/time scripts<br>

<a href="http://www.robvanderwoude.com/datetiment.html">Rob Vanderwoude</a> - date/time scripts
</body>
</html>
